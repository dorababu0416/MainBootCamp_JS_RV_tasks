<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
</head>
<body style="text-align: center; padding-top: 15%;">

    <input type="button" onclick="disp();" id="start" value="Start Game">

    <script>
        var count=0;
        function disp(){
            document.getElementById("start").remove();
            var head=document.createElement("h1");
            head.style.fontSize="x-large";
            head.innerText="Player1 : 'X'       ;       Player2 : 'O'";
            document.body.appendChild(head);

            var turn=document.createElement("h1");
            turn.innerText="TURN : Player1";
            turn.id="turn";
            document.body.appendChild(turn);
            for(var i=1;i<=9;i++){
                dr(i);
            
            }
            var brk=document.createElement("br");
            document.body.appendChild(brk);
            var reset=document.createElement("input");
            reset.type="button";
            reset.value="Reset Game";
            reset.onclick=function(){ location.reload();};
            document.body.appendChild(reset);
            }


        function dr(indx){
            var box=document.createElement("input");
            box.type="button";
            box.id=indx;
            box.value="        ";
            box.style.padding="20px 20px 20px 20px";
            box.style.fontSize="x-large";
            box.onclick=function(){play(indx)};
            document.body.appendChild(box);
            if(indx%3===0){
                var brk=document.createElement("br");
                document.body.appendChild(brk);

        }
    }
        function play(num){
            if(document.getElementById(num).value==="        "){
            count += 1;
            var turn = document.getElementById("turn");
            count%2===0 ? turn.innerText="TURN : Player1" : turn.innerText="TURN : Player2";
            count%2===0 ? document.getElementById(num).value="   O   " : document.getElementById(num).value="   X   ";
            //row calculate
            if(num>0 && num<4){
                row=1;
            }
            else if(num>3 && num<7){
                row=4;
            }
            else{
                row=7;
            }
            console.log(row);
            check(row,1);

            //column calculate
            if(num===1 || num===4 || num===7){
                col=1;
            }
            else if(num===2 || num===5 || num===8){
                col=2;
            }
            else{
                col=3;
            }
            console.log(col);
            check(col,3);
         
            //diagonal calculate
            if(num===1 || num===5 || num===9){
                check(1,4);
            }
            else if(num===3 || num===5 || num===7){
                check(3,2);
            }

            }

            //Draw check
            var draw=1
            for(var i=1;i<=9;i++){
                if(document.getElementById(i).value==="        "){
                    console.log("entered in for loop")
                    draw=0;
                    break;
                }
            }
            if(draw===1){
                alert("DRAW");
                location.reload();
            }

        }

        function check(indx,addit){
                var start=indx;
                var mid=indx+addit;
                var end=indx+addit+addit;
                if(document.getElementById(start).value===document.getElementById(mid).value && document.getElementById(mid).value===document.getElementById(end).value && document.getElementById(start).value===document.getElementById(end).value){
                        count%2===0 ? alert("Player 2 WON") : alert("Player 1 WON");
                        location.reload();
                    }
        }     

    </script>
</body>
</html>